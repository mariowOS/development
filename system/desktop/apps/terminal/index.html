<!DOCTYPE html>
<html lang="it">
    <head>
        <title>Terminale</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
    <div name="app" class="terminal-app">
            <div id="readonly">MariowOS [Versione 0.07 Insider Preview] <br>
    (c) MariowOS corporation. <br>All rights reserved.</div>
        <textarea id="userinput" placeholder="Place your commands here..." ></textarea>
    </div>
        
    </div>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Raster', monospace !important;
            color: #fff;
        }

        html, body {
            height: 100%;
            background: #181818;
            overflow: hidden;
        }

        
        ::-webkit-scrollbar {
            display: none;
        }

    
        .terminal-app {
            display: flex;
            flex-direction: column;
            height: 100vh;
            width: 100vw;
            padding: 10px;
            gap: 8px;
        }

        
        #readonly {
            flex: 1 1 auto;
            padding: 10px;
            background: #181818;
            border-radius: 6px;
            border: 1px solid #333;
            overflow-y: auto;
            resize: none;
            user-select: none;
            font-size: 14px;
            pointer-events: none;
            color: #f2f2f2;
        }

        
        #userinput {
            flex: 0 0 50px;
            padding: 8px 10px;
            background: #181818;
            border: 1px solid #333;
            border-top: none;
            border-radius: 0 0 6px 6px;
            resize: none;
            font-size: 14px;
            color: #f2f2f2;
        }
        #userinput:focus {
            outline: none;
            border-color: #555;
        }
    </style>
    </body>

    <script>
  const output = document.getElementById("readonly");
  const input = document.getElementById("userinput");

  // Dizionario dei comandi
  const commands = {
    help: () => {
      return `Comandi disponibili:<br>
      help - Mostra questo messaggio di aiuto<br>
      about - Informazioni su MariowOS Terminale<br>
      clear - Pulisce lo schermo del terminale<br>
      echo - Visualizza un messaggio<br>
      math - Esegue un'operazione matematica semplice<br>
      exit - Chiude il terminale`;
    },

    about: () => {
      return `MariowOS Terminale Versione 0.07 Insider Preview<br>
      (c) MariowOS corporation. Tutti i diritti riservati.`;
    },

    clear: () => {
      output.innerHTML = "";
      return "";
    },

    echo: (args) => args.join(" "),

    math: (args) => {
      try {
        const result = eval(args.join(" "));
        return `Risultato: ${result}`;
      } catch {
        return "Errore: operazione matematica non valida.";
      }
    },

    exit: () => {
      print("Chiusura terminale...");
      window.close();
      return "";
    }
  };

  // Gestore dell'invio
  input.addEventListener("keydown", (event) => {
    if (event.key === "Enter") {
      event.preventDefault();
      const line = input.value.trim();
      if (line === "") return;

      print(`> ${line}`);
      handleCommand(line);
      input.value = "";
    }
  });

  function handleCommand(line) {
    const parts = line.split(" ");
    const cmd = parts[0].toLowerCase();
    const args = parts.slice(1);

    if (commands[cmd]) {
      const result = commands[cmd](args);
      if (result !== "") print(result);
    } else {
      print(`Comando non riconosciuto: ${cmd}`);
    }
  }

  function print(text) {
    output.innerHTML += text + "<br>";
    output.scrollTop = output.scrollHeight;
  }
</script>
</html>